<div>
    <div class="error" ng-show="error.show">
        {{ error.content }}
    </div>

    <div>
        <div map-lazy-load="https://maps.googleapis.com/maps/api/js?key=AIzaSyCSvjGoZxXRQtxtGbsjlA8zV5vsp_kCFQY&libraries=drawing">
            <ng-map id='createmap' center='[48.4713, 1.0143]' zoom='13' style="height: 80%; width: 50%">
                <drawing-manager
                        drawing-control-options="{position: 'TOP_CENTER',drawingModes:['polyline']}"
                        drawingControl="true"
                        drawingMode="POLYLINE"
                        polylineOptions="{strokeColor: '#e73664',fillOpacity: 1,strokeWeight: 3,clickable: false,zIndex: 1,editable: true}"
                        on-polylinecomplete="setPath()">
                </drawing-manager>
            </ng-map>
        </div>

        <div>
            <form ng-submit="createTrail()">
                <input required ng-model="commune" placeholder="Commune de départ"/>
                <button ng-disabled="!(trail.nodes.length > 0)" type="submit" >Créer Circuit</button>
            </form>
        </div>
        <div ng-if="trailCreated._id !== undefined">
            <a ng-href="/#!/trail/{{trailCreated._id}}" class="btn btn-info" role="button">Cliquez ici pour acceder à votre circuit</a>
        </div>
    </div>
</div>
